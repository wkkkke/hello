(function() {
  window.store = {
    
    
      "咖啡的起源与培植": {
        "title": "咖啡的起源与培植",
        "subtitle": "在地理概念上，全球性的咖啡种植区有三个——东非和阿拉伯半岛，东南亚和环太平洋地区，拉丁美洲。",
        "image": "/coffee-blog/images/coffee-cultivation-kv.jpg",
        "content": "不同地区种植出来的咖啡具有不同的风味——一个国家特别的土壤、气候条件和种植方式使得该国出产的咖啡具有特别的风味。法国的酿酒大师把这种现象叫做“地域风格”。在地理概念上，全球性的咖啡种植区有三个——东非和阿拉伯半岛，东南亚和环太平洋地区，拉丁美洲。  某些种类的咖啡树能长到30至40英尺高。然而，为方便采摘咖啡豆，人们经常通过一些方法来使咖啡树不长那么高。平均而言，一株咖啡树每年所产的咖啡果只够烘焙出0.5公斤的咖啡粉。而对于大多数喜好咖啡的人来说，喝完这些咖啡只需要一个星期的时间！有两种具有重要经济价值的咖啡：阿拉伯种咖啡豆和东非洲种咖啡豆。在高海拔地区，阿拉伯种咖啡生长得较好，这种咖啡的风味比其它咖啡要精致得多，而且，这种咖啡中咖啡因的含量只占咖啡全部重量的1%。正如其名称所表明的那样，东非洲种咖啡滋味醇厚，抵抗病虫害的能力强，单株产量也很高。该种咖啡生长在低海拔地区，味道苦涩。星巴克公司只采购高品质的阿拉伯种咖啡。收获季节，咖啡树上长满了鲜红的咖啡果。未经烘焙的咖啡豆只是咖啡果的果核。恪尽职守的咖啡树像其它种类的果实一样，咖啡果也生长在树上。土壤、气候、海拔高度、咖啡树周围其它种类的植物都能够对咖啡的风味产生影响。咖啡果的皮非常厚，味微苦。而果皮下面的果核却是甜的，其质地与葡萄相似。果核的里层，是对种子起保护作用的薄膜。该层薄膜很像苹果种子的保护膜。去掉这一层膜，你就会看到绿色的咖啡豆—通常为两粒。将咖啡豆洗净之后，就可以进行烘焙了。",
        "url": "/coffee-blog/the-origin-of-coffee-and-its-cultivation/"
      }
      ,
    
      "咖啡调制": {
        "title": "咖啡调制",
        "subtitle": "咖啡器并不是调制美味咖啡的唯一因素。咖啡调制的四要素分别是比例、研磨度、水、新鲜度。",
        "image": "/coffee-blog/images/4-fundamentals-kv.jpg",
        "content": "如果您具有调制咖啡的基本常识，您就可以利用咖啡压滤壶、家用咖啡壶和浓缩意式咖啡器来调制美味咖啡。比例要掌握好咖啡粉和水的比例——这是调制美味咖啡过程中关键的步骤。为了让您调制出效果上佳的咖啡，我们建议您用180毫升水与10克咖啡粉进行搭配。如果您觉得用这种方式调制出来的咖啡饮品的味道太浓，您可以再往里加点热水。10克咖啡需用180毫升水调制。 两勺约为10克。研磨度不同的调制方式对咖啡研磨的程度有不同的要求。但总的来说，调制的时间越短，对咖啡研磨的程度就越高。例如，用在浓缩咖啡机上的咖啡粉必须非常精细，因为调制的时间只有18到23秒左右。但是，用在咖啡压壶上的咖啡粉可以粗糙一些，因为水和咖啡粉有四分钟直接接触的机会。  浓缩咖啡机：特别细的咖啡粉  滴滤咖啡机：中等粗细的咖啡粉  咖啡压滤壶：粗的咖啡粉调制的时间越短，对咖啡研磨的程度就越高。水一杯咖啡中，98%的成分都是水，所以您用来调制咖啡的水必须清洁、新鲜、不含杂质。最好将水加热到90摄氏度到96摄氏度，这种温度的热水可以萃取咖啡所有的风味。温度不够的水不可用。水越纯净，越能制作出一杯好咖啡。新鲜度咖啡是一种讲究新鲜度的饮品，它的敌人是氧、光、热和潮湿。为了保证咖啡的新鲜度，应在室温下将咖啡放置于避光、密封的容器里保存。您可以用这种方式保存咖啡达一个星期之久。为了获得更好的效果，磨好的咖啡粉应该立即使用。新鲜的咖啡的保存时间不能超过一个星期。",
        "url": "/coffee-blog/the-4-fundamentals/"
      }
      ,
    
      "咖啡烘焙": {
        "title": "咖啡烘焙",
        "subtitle": "更多地体现在我们为使每一颗咖啡豆具有上佳口味而花费的心血上。星巴克烘焙的颜色可以模仿，但它特别的风味却是无法模仿的。",
        "image": "/coffee-blog/images/roast-story-kv.jpg",
        "content": "烘焙咖啡是一件让人激动的事情。我们把自己烘焙出来的咖啡叫作星巴克烘焙咖啡。但是，星巴克咖啡烘焙与别种咖啡的不同之处，不仅仅体现在它特别的颜色上，更多地体现在我们为使每一颗咖啡豆具有上佳口味而花费的心血上。星巴克烘焙的颜色可以模仿，但它特别的风味却是无法模仿的。咖啡的生命旅程还躺在鲜红色的咖啡果里的时候，咖啡豆的精彩生命旅程就开始了。从一棵咖啡树到出产出可收获的咖啡果大约需要五年时间，每一棵树每年只出产相当于一磅的烘焙咖啡豆。在烘焙这些像卵石一样的咖啡原豆之前，咖啡的种植者们就利用自然方法或水洗方法，对这些咖啡豆进行处理。 通过自然的手段，在咖啡果去壳剥出咖啡豆之前，让成熟的咖啡果留在树上或采下放在地上晒干。通过这种水洗的方法，就是将咖啡豆从咖啡果里剥出来，再将这些咖啡豆放入水中浸泡，然后将它们放在宽敞的地坪上晒干，或者利用现代化设备对其进行烘干处理。  从一棵咖啡树到出产出可收获的咖啡果大约需要五年时间，每一棵树每年只出产相当于一磅的烘焙咖啡豆。咖啡原豆要放在一个旋转式大圆桶里进行烘焙，然后它们开始转变。经过5到7分钟猛火高热后，咖啡豆中的水分逐步挥发。此时，咖啡豆开始变黄，并产生浓郁的香味。 8分钟之后，“第一次爆裂”开始，咖啡豆的体积膨胀一倍，并且发出噼里啪啦的响声。这时，它们的颜色是浅褐色的。如果你在此时停止加热，取出几粒咖啡豆尝尝滋味，你会对咖啡豆的滋味感到失望，这时的咖啡豆只有非常强的酸味，因为此时咖啡豆丰富、复杂的味道还没有散发出来。烘焙过程在容器里烘焙10到11分钟之后，咖啡豆的颜色变得越来越深，表面开始浮现出油。此刻的烘焙阶段（根据咖啡的种类而定，通常在11或15分钟），咖啡豆的浓郁风味就开始完全释放，并与咖啡豆自己的特别滋味完美融合。这时，“第二次爆响”开始了，这标志着咖啡豆的烘焙过程可以结束了。 将咖啡豆移置到冷却盘那一瞬间的情形简直让人难以置信：新鲜烘焙的咖啡豆香气四溢，噼里啪啦的声音不绝于耳。",
        "url": "/coffee-blog/roast-story/"
      }
      ,
    
      "手冲咖啡": {
        "title": "手冲咖啡",
        "subtitle": "通过这种简单易操作的方式，享受到一杯醇厚浓郁的咖啡。",
        "image": "/coffee-blog/images/pour-over-kv.jpg",
        "content": "冲泡指南：1. 准备沸水事先预估即将使用到的水并煮沸，其中包括冲洗器具的用量。2. 湿滤纸将热水均匀的冲在滤纸上，使滤纸全部湿润，紧紧贴附在滤杯上，然后倒掉分享壶内的热水。这一步将还原咖啡纯粹的味道。3. 准备咖啡粉下一步，准备好适量的咖啡粉。将磨好的咖啡粉倒入滤杯中，轻轻拍平。通常研磨精细的咖啡粉看起来很像砂糖的质地。请准备每2勺新鲜研磨咖啡粉配合6盎司热水。4. 冲泡与萃取将刚烧开的热水均匀浇注在咖啡粉上，当水量到达滤纸的一半时停止10秒，使咖啡粉充分吸水后膨胀。越新鲜的咖啡粉膨胀的越大，越能激发出咖啡的口感。5. 完成冲泡缓缓地倒入剩下的水，水流要保持稳定，可以顺着一个方向画同心圆进行注水，直至咖啡粉的外围。冲泡完成后请尽快享用。小贴士建议手冲注水时可以使用计时器，一般一杯咖啡最佳冲泡时间是3分钟。",
        "url": "/coffee-blog/pour-over/"
      }
      ,
    
      "冰镇手冲咖啡": {
        "title": "冰镇手冲咖啡",
        "subtitle": "通过这种简单易操作的方式，能同时享受到冰咖啡的醇厚与浓郁。",
        "image": "/coffee-blog/images/iced-pour-over-kv.jpg",
        "content": "冲泡指南：1. 湿滤纸将热水均匀的冲在滤纸上，使滤纸全部湿润，紧紧贴附在滤杯上，然后倒掉分享壶内的热水。这一步将还原咖啡纯粹的味道。2. 选择合适的咖啡粉将磨好的咖啡粉倒入滤杯中，轻轻拍平。通常研磨精细的咖啡粉看起来很像砂糖的质地。3. 估量通常冰镇手冲咖啡需要双倍浓度来稀释冰块，请准备每4勺新鲜研磨咖啡粉配合6盎司热水。4. 冲泡与萃取将刚烧开的热水均匀浇注在咖啡粉上，当水量到达滤纸的一半时停止10秒，使咖啡粉充分吸水后膨胀。越新鲜的咖啡粉膨胀的越大，越能激发出咖啡的口感。5. 完成冲泡缓缓地倒入剩下的水，水流要保持稳定，可以顺着一个方向画同心圆进行注水，直至咖啡粉的外围。6. 加入冰块加冰块放入刚冲泡好的咖啡内，并尽快享用。小贴士：非洲产地的咖啡非常适合于冰咖啡的冲泡。因为它有着果汁般活泼明快的口感及浓郁的风味。",
        "url": "/coffee-blog/iced-pour-over/"
      }
      ,
    
      "咖啡品尝": {
        "title": "咖啡品尝",
        "subtitle": "品尝是对照，比较和品味。",
        "image": "/coffee-blog/images/coffee-tasting-kv.jpg",
        "content": "品尝咖啡就是对多种咖啡进行对照，比较和品味。当您只品尝一种咖啡，您就无法做出对照和比较。如果您一次品尝两种或者三种咖啡，您不仅可以根据自己的喜好进行对照和比较，还可以根据它们的香味、酸度、醇度和风味来进行对照和比较。注意：当您品尝多种咖啡时，首先要品尝醇度比较低的咖啡，然后再品尝醇度比较高的咖啡。香味一种咖啡的味道首先是通过香味来表现的。事实上，您的味觉主要来自嗅觉——这就是气味芳香的咖啡让人满意的原因。酸度跟咖啡品尝有关的术语中，酸度一词并不是指味道发酸或者发苦的程度，酸度意味着味道的活泼、浓烈、清新程度。要想明白酸度的高低到底是怎么一回事，您可以想象纯水与气泡水之间的区别。 有种名叫特级哥伦比亚拿里诺的拉丁美洲咖啡具有非常活泼的口感，于是我们说它的酸度很高。相反，苏拉维西的味道非常醇厚——于是我们就说这种咖啡的酸度比较低。醇度舌头所感觉到的一种饮料的重量或者密度。饮料的醇度有低有高。为了让您理解这一概念，我们有时使用“糖浆”一词来描述一种醇度高的咖啡，例如苏门答腊咖啡。风味这是由香味、酸度、醇度融合在一起给人留下的一种总体印象。提到咖啡的味道，您会想起什么来呢？ 例如，我们常常说“在喝肯尼亚咖啡的时候，会想起葡萄柚”，意思就是说：我们会在这两种东西之间产生一些联想。但是，当我们这么说的时候，我们并不是指“肯尼亚咖啡具有葡萄柚的味道”——它的味道就是咖啡特有的味道。有许多种描述咖啡味道的方法，就像有许多种描述白雪的方法一样。",
        "url": "/coffee-blog/coffee-tasting/"
      }
      ,
    
      "咖啡压滤壶冲泡": {
        "title": "咖啡压滤壶冲泡",
        "subtitle": "使用咖啡压滤壶能充分保留咖啡自身珍贵的油脂，才能将咖啡的原味充分体现。",
        "image": "/coffee-blog/images/coffee-press-kv.JPG",
        "content": "冲泡指南：1. 准备咖啡粉使用粗研磨的咖啡粉（如海盐质地）进行滤压，请准备每2勺新鲜研磨咖啡粉配合6盎司水。小贴士：咖啡就像农产品一样，建议经常少量购买，并在新鲜时尽快使用。2. 加热水将刚烧开的热水倒入压滤壶内，使咖啡粉充分吸水后膨胀。小贴士：为了让咖啡的原味充分体现，建议使用净化水或桶装水。3. 盖上盖子盖上盖子，将压杆定住在液面上方，等待咖啡浸泡4分钟。4. 下压并冲倒咖啡均匀而缓慢地下压压杆直至咖啡壶底部，轻轻将咖啡倒入杯中享用。",
        "url": "/coffee-blog/coffee-press/"
      }
      ,
    
      "咖啡机冲泡": {
        "title": "咖啡机冲泡",
        "subtitle": "将研磨好的咖啡粉与水慢慢融合，便捷的渗漏式咖啡将为您带来一杯完美的咖啡。",
        "image": "/coffee-blog/images/coffee-brewer-kv.jpg",
        "content": "冲泡指南：1. 选择合适的咖啡粉使用平底过滤器能筛选出磨成中等细度的咖啡粉（如海盐般）。使用尖椎过滤器能筛选出磨成细滑质地的咖啡粉（如细砂糖般）。2. 估量每2勺新鲜研磨咖啡粉配合6盎司水。3. 冲泡后细细品味刚冲泡完成的咖啡往往是最新鲜的，适合你坐下慢慢品味。小贴士：如果重新加热冷却的咖啡，会影响咖啡新鲜的口感。",
        "url": "/coffee-blog/coffee-brewer/"
      }
      ,
    
      "星巴克更高的阿拉比卡标准": {
        "title": "星巴克更高的阿拉比卡标准",
        "subtitle": "卓越咖啡，源于品质咖啡豆。",
        "image": "/coffee-blog/images/arabica-kv.jpg",
        "content": "不同于普通的阿拉比卡咖啡豆，星巴克的阿拉比卡咖啡豆产自优质的种植地。对于咖啡豆品质的严格把控，星巴克始终不遗余力地恪守高标准。我们该如何做到？这是个好问题。1. 先往海拔高处寻优质的咖啡豆常生长在高海拔地区，那里较大的昼夜温差，成就了浓密的咖啡豆，使之更具浓厚而丰富的口感。但需要细品每一杯星巴克咖啡。2. 一切皆为优质咖啡如果能帮助种植者种出更优质的咖啡豆，我们定会竭尽所能，且无论何地，一视同仁。于是，星巴克在四大洲广泛开设“种植者支持中心”，委派农艺专家为当地种植者免费提供土壤测试、样品检验及专业咨询，促进持续种植高质量的咖啡。3. 深耕长期合作关系咖啡的未来与咖啡种植者息息相关。于是，我们会如同种植者培育咖啡豆一样地悉心经营与咖啡种植者和种植社区的互利合作关系。星巴克致力于帮助咖啡种植者获得公平的利润回报，改善生活水平，并确保咖啡社区的每个人能够受益于咖啡行业，从而推动星巴克高品质咖啡的不断供应。4. 百般挑剔的采购标准为了挑选出世界上的高品质咖啡豆，我们只采购正处枝繁叶茂的咖啡樱，熟透且品相良好。并依据大小、色泽和饱满度等标准一遍又一遍筛选。或许有人会称之为强迫症，但我们认为，这才是我们追求的上乘咖啡。5. 再三反复品尝我们每天会品尝超过1000杯咖啡，只为验证其口感足够出众，让所有人满意。每批咖啡在获批前，都会被品尝至少三次，只为让你爱上每一口星巴克咖啡的味道。",
        "url": "/coffee-blog/starbucks-higher-arabica-standards/"
      }
      ,
    
      "咖啡历史": {
        "title": "咖啡历史",
        "subtitle": "咖啡的历史与咖啡的酿制方式，有着同样丰富的内容。它可以追溯到一千多年以前。",
        "image": "/coffee-blog/images/coffee-history-kv.jpg",
        "content": "  一个故事说，一位放羊的牧民注意到这样一个现象：他的羊群在食用了野生咖啡树上的果实之后变得格外亢奋。世界上第一株咖啡树是在非洲之角发现的。当地土著部落经常把咖啡的果实磨碎，再把它与动物脂肪掺在一起揉捏，做成许多球状的丸子。这些土著部落的人将这些咖啡丸子当成珍贵的食物，专供那些即将出征的战士享用。当时，人们不了解咖啡食用者表现出亢奋是怎么一回事，他们不知道这是由咖啡的刺激性引起的，相反，人们把这当成是咖啡食用者所表现出来的宗教狂热。觉得这种饮料非常神秘，它成了牧师和医生的专用品。流传至今，反映咖啡发现过程主要有两个故事。一个故事说，一位放羊的牧民注意到这样一个现象：他的羊群在食用了野生咖啡树上的果实之后变得格外亢奋。出于好奇，他也尝了尝咖啡果。一尝之后，由于咖啡豆的作用，他也像那些乱撞乱跳的山羊一样，开始手舞足蹈起来。发生在牧民身上的这一幕，恰恰被一群僧侣撞个正着。于是，每当有必要在夜间举行宗教仪式时，这些僧侣都用咖啡豆煮成汤水喝下，用这种方法来使自己保持清醒。还有一个故事是这样说的：一个穆斯林托钵僧被他的敌人赶入沙漠。在精神错乱的状态下，他听到声音，提示他采食身边的咖啡果。他把咖啡果放在水里，想把它们泡软，由于咖啡果过于坚硬，他没有成功。不得已，他只好将浸泡咖啡豆的水喝了下去。最后，这个托钵僧就靠这种手段存活下来。当这个托钵僧走出沙漠之后，他觉得自己能够幸存，并且自己身上之所以能够获得神奇的能量，全都是真主安拉相助的结果。于是，他就不停地向别人讲述这个故事，并且把这种配制饮料的方法介绍给了别人。  来圣城麦加朝圣的穆斯林香客，偷偷地将咖啡树苗带回了自己的家乡，因此，咖啡很快就在印度落地生根。咖啡的种植始于15世纪。几百年的时间里，阿拉伯半岛的也门是世界上唯一的咖啡出产地，市场对咖啡的需求非常旺盛。在也门的摩卡港，当咖啡被装船外运时，往往需用重兵保护。同时，也门也采取种种措施来杜绝咖啡树苗被携带出境。尽管有许多限制，来圣城麦加朝圣的穆斯林香客，还是偷偷地将咖啡树苗带回了自己的家乡，因此，咖啡很快就在印度落地生根。当时，意大利的威尼斯，有无数的商船队与来自阿拉伯的商人进行香水、茶叶和纺织品交易。这样，咖啡也就通过威尼斯传播到了欧洲的广大地区。许多欧洲商人也就渐渐习惯饮用咖啡这种饮料了。后来，在许多欧洲城市的街头，出现了兜售咖啡的小商贩，咖啡在欧洲得到了迅速普及。",
        "url": "/coffee-blog/history-of-coffee/"
      }
      ,
    
      "卡布奇诺 vs. 拿铁": {
        "title": "卡布奇诺 vs. 拿铁",
        "subtitle": "两个最爱之比较",
        "image": "/coffee-blog/images/cappuccino-vs-latte-00-hero.jpg",
        "content": "如果要比较浓缩咖啡饮料，少了卡布奇诺和拿铁那便是不完整的。虽然这两种饮品都源自意大利并都由浓缩咖啡和牛奶制作而成，但其中的差异却通过一道重要的工序来完成：咖啡师的手工制作。一杯卡布奇诺的制作考验着咖啡师的咖啡制作技能。在浓郁丰富的浓缩咖啡之上是一层浓厚且顺滑有弹性的奶泡。在培训中，我们的咖啡师学习每一杯饮品什么时候到达其独有的重量，当你手中的饮品完美地平衡了轻而薄的奶泡与浓厚美味的浓缩咖啡，我们咖啡师才算通过考验不同层次的叠加让咖啡的味道更浓烈。咖啡师用不同的方式制作拿铁。首先将浓缩咖啡和蒸奶被混合在一起，再在最上面加上一层轻绵的奶泡。拿铁喝起来更加绵密并且它的咖啡味道更加纤细。",
        "url": "/coffee-blog/cappuccino-vs-latte/"
      }
      ,
    
      "探索星巴克冰咖啡饮品": {
        "title": "探索星巴克冰咖啡饮品",
        "subtitle": "当手艺遇上冰凉",
        "image": "/coffee-blog/images/spectrum-00-hero.jpg",
        "content": "在专业的烘烤豆与酿造精品的热咖啡方面，星巴克已经有40多年的历史。1986年，我们首次推出了星巴克的冰咖啡，从此之后我们就持续在冰咖啡和浓缩咖啡方面进行创新。进一步了解我们的冰咖啡与冰浓缩咖啡饮品，请看以下解析：冰咖啡系列冰咖啡  冰咖啡是利用双重强度的咖啡豆，经过刚刚沸腾过后的过滤水，加入冰块而制成。当冰块融化，慢慢将咖啡稀释到一个完美的平衡状态。  为了凸显冰咖啡中轻盈令人耳目一新的味道，我们会在星巴克的冰咖啡里面稍加一点甜度。  星巴克冰咖啡混合烘焙主打来自拉丁美洲和东非的咖啡豆，冷却后会带出一种酥脆感。  味道笔记：中等醇度中带有少许可乐与焦糖气致冷萃咖啡  气致冷萃咖啡在我们的Narino 70 冷萃咖啡中注入了氮气，营造出一种顺滑又绵密的甘甜味道。  我们建议不加冰饮用这款咖啡，因为它直接从冷藏的咖啡罐中取出。与Narino 70冷萃咖啡一样，为了强调冷萃过程中的味道，我们没有在气致冷萃咖啡加入甜分。  味道笔记：具有天鹅绒般丝滑、奶油式的甘甜的醇香。冰浓缩咖啡系列冰美式  一杯冰美式结合了浓缩咖啡与冰的过滤水，营造出深度与细节的精美结合。  味道笔记：浓烈强劲的浓缩咖啡味道。星巴克加冰双份浓缩咖啡  将丰富、浓郁的浓缩咖啡倒入装了冰块的杯子后与加入了少许牛奶与甜度的醇香组成了这杯咖啡。  味道笔记：强劲的浓缩咖啡与牛奶和少许甜度完美平衡冰拿铁  冰拿铁融合了浓烈醇香的浓缩咖啡和冷却后的牛奶。你还可以选择加入喜欢的调味糖浆。  味道笔记：偏牛奶味的味道平衡了醇香的浓缩咖啡，自然而清新冰焦糖玛奇朵  一杯冰的焦糖玛奇朵以带甜度的冷牛奶融入醇香浓郁的浓缩咖啡为特征。最后在咖啡上用焦糖画出交叉排线。  味道笔记：香甜与细腻奶油的层叠加入几丝香草与焦糖的味道冰摩卡  冰摩卡将浓缩咖啡、甘苦的摩卡糖浆和牛奶结合在一起，浇过冰块。再在最上加以鲜奶油。  味道笔记：醇香又甘苦，带有几丝巧克力的味道",
        "url": "/coffee-blog/explore-starbucks-cold-coffee/"
      }
      ,
    
      "冰咖啡 vs. 冰美式": {
        "title": "冰咖啡 vs. 冰美式",
        "subtitle": "欣赏其中的差异",
        "image": "/coffee-blog/images/iced-coffee-vs-americano-00-hero.jpg",
        "content": "清凉且令人耳目一新的两杯咖啡，冰咖啡融入了一丝焦糖和可乐的印记，而冰美式打造了一杯深度与细节的精美结合。想更近一步了解两者的区别，请看下面的解构图：专业提示：冰咖啡用双倍强度的咖啡豆酿造而成，所以融化的冰块不会稀释咖啡的味道。",
        "url": "/coffee-blog/iced-coffee-vs-iced-americano/"
      }
      
    
  };
  
  function loadJSON(callback) {
    var xobj = new XMLHttpRequest();
    xobj.overrideMimeType("application/json");
    xobj.open('GET', '/coffee-blog/assets/search/index-cn.json', true);
    xobj.onreadystatechange = function () {
      if (xobj.readyState == 4 && xobj.status == "200") {
        callback(xobj.responseText);
      }
    };
    xobj.send(null);
  }

  function initSearch(lunr) {
    document.getElementById('search-input-pike-blog').addEventListener('keyup', function () {
      if (this.value) {
        console.log(this.value);
        var results = lunr.search(this.value); // Get lunr to perform a search
        displaySearchResults(results, window.store); // We'll write this in the next section
      }
      else {
        document.getElementById('search-results').innerHTML = '';
      }
    });
  }
  // Initalize lunr with the fields it will be searching on. I've given title
  // a boost of 10 to indicate matches on this field are more important.
  var idx = lunr(function () {
    this.field('id');
    this.field('title', { boost: 10 });
    this.field('subtitle');
    this.field('content');
  });

  for (var key in window.store) { // Add the data to lunr
    idx.add({
      'id': key,
      'title': window.store[key].title,
      'subtitle': window.store[key].subtitle,
      'content': window.store[key].content,
    });
  }

  

  function displaySearchResults(results, store) {
    var searchResults = document.getElementById('search-results');

    if (results.length) { // Are there any results?
      var appendString = '';
      for (var i = 0; i < results.length; i++) {  // Iterate over the results
        var item = store[results[i].ref];
        appendString += '<li>';
        appendString += '  <a href="' + item.url + '">';
        appendString += '    <div class="thumbnail" style="background-image: url(' + item.image + ');"></div>';
        appendString += '    <h3>' + item.title + '</h3>';
        appendString += '    <p>' + item.subtitle + '</p>';
        appendString += '  </a>';
        appendString += '</li>';
      }

      searchResults.innerHTML = appendString;
    } else {
      searchResults.innerHTML = '<li><p class="empty">暂无结果</p></li>';
    }
  }

  function getQueryVariable(variable) {
    var query = window.location.search.substring(1);
    var vars = query.split('&');

    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');

      if (pair[0] === variable) {
        return decodeURIComponent(pair[1].replace(/\+/g, '%20'));
      }
    }
  }

  if (document.getElementById('search-input-pike-blog')) {
    loadJSON(function (response) {
      var tokenizedSearchIndex = JSON.parse(response);
      var chineseLunr = lunr.init(tokenizedSearchIndex);
      initSearch(chineseLunr);
    });
  }

})();
